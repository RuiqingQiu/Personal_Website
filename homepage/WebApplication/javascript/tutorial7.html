<!DOCTYPE html>
<html>
	<head>
	<meta charset="UTF-8">
		<title>Javascript Tutorial on Regular Expression</title>
		<script type="text/javascript">
			
			function editNodeText(regex, input, helpId, helpMessage) 
			{ 
				if(!regex.test(input))
				{
					if(helpId != null)
						//Remove any warnings that may exist
						while(helpId.firstChild){
							helpId.removeChild(helpId.firstChild);
						}
					//Add new warning
					helpId.appendChild(document.createTextNode(helpMessage));
					return false;
				}
				else{
					if(helpId != null)
					{
						while(helpId.firstChild){
							helpId.removeChild(helpId.firstChild);
						}
						return true;
					}
				}

			}
			
			function isTheFieldEmpty(inputField, helpId)
			{
				// inputField – ID Number for the html text box

				// helpId – ID Number for the child node I want to print a warning in

				// See if the input value contains any text
				
				return editNodeText(/^[A-Za-z\.\' \-]{2,15}\s?[A-Za-z\.\' \-]{2,15}\s?[A-Za-z\.\' \-]{2,15}/, inputField.value, helpId, "Please enter a valid name.");
			}
			
			function isAddressOk(inputField, helpId)
			{
				return editNodeText(/^[A-Za-z0-9\.\' \-]{5,30}$/, inputField.value, helpId, "Enter a street (Ex.1234 Main St.)");
			}
			
			function isStateOk(inputField, helpId) 
			{ 
				return editNodeText(/^A[LKSZRAEP]|C[AOT]|D[EC]|F[LM]|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEHINOPST]|N[CDEHJMVY]|O[HKR]|P[ARW]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY]$/, inputField.value , helpId, "Enter a State Code in UpperCase (Ex. NY, PA, CA)");
			}
			
			
			function isPhoneOk(inputField, helpId) {        // See if the input value contains any text

				return editNodeText(/^([0-9]( |-)?)?(\(?[0-9]{3}\)?|[0-9]{3})( |-)?([0-9]{3}( |-)?[0-9]{4}|[a-zA-Z0-9]{7})$/, inputField.value, helpId, "Enter a Phone Number (Ex.412-828-3000)");

}
			
			function isEmailOk(inputField, helpId) 
			{        
				// See if the input value contains any text
				return editNodeText(/^[A-Za-z0-9._-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/, inputField.value, helpId, "Enter an Email (Ex. raymond.qiu1993@gmail.com)");
			}

			
					
		</script>
		<noscript><h3> This site requires Javascript</h3></noscript>
	</head>
	
	<body>
		
		<div>
		
			<a href="./tutorial7Code.html">View the code (you can also view the code using developer tools :) )</a>
			<h2> The following information box demonstrate using regular expression to check user input </h2>
			Enter your name:
			<input id="name" name="name" type="text" size="30" onblur="isTheFieldEmpty(this,document.getElementById('name_help'))" />
			<span id="name_help"></span>
		</div>
		
		<div>
			Enter yout street address:
			<input id="street" name="street" type="text" size="30"
				onblur="isAddressOk(this, document.getElementById('street_help'))" />
			<span id="street_help"></span>
		</div>
		
		<div>
			Enter your city:
			<input id="city" name="city" type="text" size="30"
				onblur="isTheFieldEmpty(this, document.getElementById('city_help'))" />
			<span id="city_help"></span>
		</div>
		
		
		<div>
			Enter your state code:
			<input id="state" name="state" type="text" size="30"
				onblur="isStateOk(this, document.getElementById('state_help'))" />
			<span id="state_help"></span>
		</div>
	
		<div>
			Enter your phone number:
			<input id="phone" name="phone" type="text" size="30"
				onblur="isPhoneOk(this, document.getElementById('phone_help'))" />
			<span id="phone_help"></span>
		</div>
		
		<div>
			Enter your email:
			<input id="email" name="email" type="text" size="30"
				onblur="isEmailOk(this, document.getElementById('email_help'))" />
			<span id="email_help"></span>
		</div>
		
		 <div>       
		 	 Click Button for a 3 Second Alarm:        
		 	 <input id="alarm" name="alarm" type="button" value="Set Alarm"         onclick="setTimeout('alert(\'3 seconds!\')',3000)" />  
		 </div>	
	</body>
</html>